library("rstan", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20180927.Rdata")
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20181007_2chains_updated.RData")
betasfit3
summary(fit3)
u95CI
l95CI
load("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/Behavior/data/ControlEdats2017/WSLSdata_updated_2_12_19.RData")
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_kids)
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_8)
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_7)
summary(new_Acc_WStest_age_run_sex_10_2018_rfx_6)
new_Acc_WStest_age_run_sex_10_2018_rfx_7_kidsMC<-glmer(IsCorrectResp~Run*WS*Trial+Age_MC_Children*WS+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
new_Acc_WStest_age_run_sex_10_2018_rfx_7_kidsMC<-glmer(IsCorrectResp~Run*WS*Trial+Age_MC_children*WS+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Acc_WStest_age_run_sex_10_2018_rfx_7_kidsMC)
summary(new_Acc_WStest_age_run_sex_10_2018_rfx_7_adultsMC)
summary(new_Acc_WStest_age_run_sex_10_2018_rfx_8_adultsMC)
new_Acc_WStest_age_run_sex_10_2018_rfx_8_adultsMC<-glmer(IsCorrectResp~Run*WS*Trial+Age_MC_adults*WS+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Acc_WStest_age_run_sex_10_2018_rfx_8_adultsMC)
new_Acc_LStest_age_run_sex_10_2018_rfx_9<-glmer(IsCorrectResp~Run*LS*Trial+Age_MC_children*LS+AmtNegFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_9)
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_7)
new_Acc_LStest_age_run_sex_10_2018_rfx_10<-glmer(IsCorrectResp~Run*LS*Trial+Age_MC_adults*LS+AmtNegFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_10)
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_7)
new_Accglm_Interaction_sex_2_2019_rfxMC_trial<-glmer(IsCorrectResp~Sex+AgeMC*Run*Trial+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
new_Accglm_Interaction_sex_2_2019_rfxMC_trial<-glmer(IsCorrectResp~Sex+AgeMC*Run*Trial+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Accglm_Interaction_2_2019_rfxMC_trial)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_trial)
new_Acc_WStest_age_run_sex_10_2018_rfx_6a<-glmer(IsCorrectResp~Run*WS*Trial*AgeMC+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
new_Acc_WStest_age_run_sex_10_2018_rfx_6a<-glmer(IsCorrectResp~WS*Trial*AgeMC+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
new_Acc_WStest_age_run_sex_10_2018_rfx_6a<-glmer(IsCorrectResp~Run*Trial*AgeMC+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
new_Acc_WStest_age_run_sex_10_2018_rfx_6a<-glmer(IsCorrectResp~Run*Trial*AgeMC+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(new_Acc_WStest_age_run_sex_10_2018_rfx_6a)
new_Acc_WStest_age_run_sex_10_2018_rfx_6a<-glmer(IsCorrectResp~Run*Trial*AgeMC+AmtPosFBMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="bobyqa",optCtrl=list(maxfun=2e5)),na.action = na.exclude)
WS_opttest<-allFit(new_Acc_WStest_age_run_sex_10_2018_rfx_6a)
summary(WS_opttest)
rm(new_Acc_WStest_age_run_sex_10_2018_rfx_6a)
new_Accglm_Interaction_sex_2_2019_rfxMC_trial<-glmer(IsCorrectResp~Sex+AgeMC*Run*Trial+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_trial)
new_Accglm_Interaction_sex_2_2019_rfxMC_EL<-glmer(IsCorrectResp~Sex+AgeMC*Run*EL+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_EL)
new_Accglm_Interaction_sex_2_2019_rfxMC_EL_kidsMC<-glmer(IsCorrectResp~Sex+Age_children_MC*Run*EL+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
new_Accglm_Interaction_sex_2_2019_rfxMC_EL_kidsMC<-glmer(IsCorrectResp~Sex+Age_MC_children*Run*EL+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
new_Accglm_Interaction_sex_2_2019_rfxMC_EL_adultsMC<-glmer(IsCorrectResp~Sex+Age_MC_adults*Run*EL+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_EL_kidsMC)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_EL_adultsMC)
mean(WSLSdata$Age)
WSLSdata$AgeMos<-(WSLSdata$Age/12)
WSLSdata$AgeMos[WSLSdata$Subject==2]
WSLSdata$Age[WSLSdata$Subject==2]
WSLSdata$AgeMos<-(WSLSdata$Age*12)
WSLSdata$AgeMos[WSLSdata$Subject==2]
mean(WSLSdata$Age[WSLSdata$AgeGrp==0])
mean(WSLSdata$Age[WSLSdata$AgeGrp==2])
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_kids)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_adults)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC)
summary(new_Accglm_Interaction_sex_8_2018_rfxMC)
summary(new_LSglm_Interaction_sex_1_2019_rfxMC)
summary(new_WSglm_Interaction_sex_1_2019_rfxMC)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_EL)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_EL_kidsMC)
summary(new_Accglm_Interaction_sex_2_2019_rfxMC_EL_adultsMC)
min(WSLSdata$Age)
max(WSLSdata$Age)
WSLSdata$Age_Centered_min<-WSLSdata$Age-(min(WSLSdata$Age))
WSLSdata$Age_Centered_min
WSLSdata$AgeMC
WSLSdata$Age_Centered_max<-WSLSdata$Age-(max(WSLSdata$Age))
WSLSdata$Age_Centered_max
new_Accglm_Interaction_sex_2_2019_rfxCenterMin<-glmer(IsCorrectResp~Sex+Age_Centered_Min*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
new_Accglm_Interaction_sex_2_2019_rfxCenterMin<-glmer(IsCorrectResp~Sex+Age_Centered_min*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(new_Accglm_Interaction_sex_2_2019_rfxCenterMin)
new_Accglm_Interaction_sex_2_2019_rfxCenterMax<-glmer(IsCorrectResp~Sex+Age_Centered_max*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(new_Accglm_Interaction_sex_2_2019_rfxCenterMax)
WSLSdata$AgeSq<-(WSLSdata$Age^2)
WSLSdata$AgeSq
WSLSdata$AgeSq_MC<-WSLSdata$AgeSq-(mean(WSLSdata$AgeSq))
WSLSdata$AgeSq_MC
quadraticTest<-glmer(IsCorrectResp~Sex+AgeMC*Run+AgeSq_MC*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(quadraticTest)
quadraticTest<-glmer(IsCorrectResp~Sex+AgeSq_MC*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
quadraticTest<-glmer(IsCorrectResp~Sex+AgeSq_MC+Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
quadraticTest<-glmer(IsCorrectResp~Sex+AgeSq+Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(quadraticTest)
quadraticTest<-glmer(IsCorrectResp~Sex+Age_MC+AgeSq_MC+Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
quadraticTest<-glmer(IsCorrectResp~Sex+AgeMC+AgeSq_MC+Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(quadraticTest)
?scale
summary(new_Accglm_Interaction_sex_2_2019_rfxCenterMin)
summary(new_Accglm_Interaction_sex_2_2019_rfxCenterMax)
summary(new_Accglm_Interaction_sex_8_2018_rfxMC)
quadraticTest<-new_Accglm_Interaction_sex_8_2018_rfxMC<-glmer(IsCorrectResp~Sex+AgeMC*Run+AgeSq_MC*Run(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
quadraticTest<-new_Accglm_Interaction_sex_8_2018_rfxMC<-glmer(IsCorrectResp~Sex+AgeMC*Run+AgeSq_MC*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
quadraticTest<-new_Accglm_Interaction_sex_8_2018_rfxMC<-glmer(IsCorrectResp~Sex+AgeMC*Run+AgeSq*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
quadraticTest<-new_Accglm_Interaction_sex_8_2018_rfxMC<-glmer(IsCorrectResp~Sex+AgeMC*Run+AgeSq_MC*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(quadraticTest)
summary(new_Accglm_Interaction_sex_8_2018_rfxMC)
summary(new_Accglm_Interaction_sex_8_2018_rfxMC)
new_Accglm_Interaction_sex_8_2018_rfxMC<-glmer(IsCorrectResp~Sex+AgeMC*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(new_Accglm_Interaction_sex_8_2018_rfxMC)
quadraticTest_notMC<-new_Accglm_Interaction_sex_8_2018_rfx<-glmer(IsCorrectResp~Sex+Age*Run+AgeSq*Run+(1|Subject),data = WSLSdata,family = binomial(link = "logit"),control=glmerControl(optimizer="Nelder_Mead"),na.action = na.exclude)
summary(quadraticTest_notMC)
plot(WSLSdata_wide$Subject,WSLSdata_wide$Age)
hist(WSLSdata_wide$Age)
hist(WSLSdata_wide$Age,breaks=1)
hist(WSLSdata_wide$Age,breaks=10)
hist(WSLSdata_wide$AgeGrp)
hist(WSLSdata_wide$AgeGrp,breaks=3)
hist(WSLSdata_wide$AgeGrp,breaks=2)
hist(WSLSdata_wide$AgeGrp,breaks=3)
hist(WSLSdata_wide$AgeGrp,breaks=4)
hist(WSLSdata_wide$AgeGrp,breaks=10)
hist(WSLSdata_wide$AgeGrp[WSLSdata_wide$Age==18],breaks=10)
hist(WSLSdata_wide$AgeGrp[WSLSdata_wide$Age==17])
hist(WSLSdata_wide$AgeGrp[WSLSdata_wide$Age==16])
hist(WSLSdata_wide$AgeGrp[WSLSdata_wide$Age==19])
WSLSdata_wide$Age
count(WSLSdata_wide$Age>18)
WSLSdata_wide$Age>18
WSLSdata_wide$Age>=18
sum(WSLSdata_wide$Age>=18)
sum(WSLSdata_wide$Age<=11)
plot(WSLSdata_wide$Age,WSLSdata_wide$Acc_Approach)
library("sjPlot", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type="pred")
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type = "slope")
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type = "eff")
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type = "diag")
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type = "resid")
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type = "int",ci.lvl = NA)
library("pwr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
pwr.f2.test(u=3,v=NULL,f2=0.4,sig.level=0.05,power=0.8)
pwr.f2.test(u=3,v=NULL,f2=0.5,sig.level=0.05,power=0.8)
pwr.f2.test(u=3,v=NULL,f2=0.3,sig.level=0.05,power=0.8)
pwr.f2.test(u=3,v=NULL,f2=1,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.4,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.3,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.35,sig.level=0.05,power=0.8)
save.image("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/Behavior/data/ControlEdats2017/WSLSdata_updated_2_15_19.RData")
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20181007_2chains_updated.RData")
summary(fit3)
pwr.f2.test(u=2,v=NULL,f2=.35,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.3,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.15,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.2,sig.level=0.05,power=0.8)
pwr.f2.test(u=2,v=NULL,f2=.25,sig.level=0.05,power=0.8)
load("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/Behavior/data/ControlEdats2017/WSLSdata_updated_2_15_19.RData")
sum(is.na(WSLSdata$IsCorrectResp))
sum(is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==0]))
sum(is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==1]))
sum(is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==2]))
ls(WSLSdata)
ls(WSLSdata2)
t.test(is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==0]),is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==1]))
t.test(is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==0]),is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==2]))
t.test(is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==1]),is.na(WSLSdata$IsCorrectResp[WSLSdata$AgeGrp==2]))
unique(WSLSdata$Subject[WSLSdata$AgeGrp])
unique(WSLSdata$Subject[WSLSdata$AgeGrp==0])
length(unique(WSLSdata$Subject[WSLSdata$AgeGrp==0]))
length(unique(WSLSdata$Subject[WSLSdata$AgeGrp==1]))
length(unique(WSLSdata$Subject[WSLSdata$AgeGrp==2]))
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_data_GLMs_5_2019.RData")
summary(fit3)
rm(list = ls());
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20181007_2chains_updated.RData")
summary(fit3)
rm(list = ls());
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_data_GLMs_5_2019.RData")
summary(fit3)
fit6 = glmer(Response ~ 1 + ConditionRecode*Amount1 + ConditionRecode*Amount2 + ConditionRecode*Certain + selfother + PartnerRecode + ConditionRecode +
(0 + Amount1 + Amount2 + Certain | Subject),data=d2,family='binomial',
control = glmerControl(optCtrl=list(maxfun=100000)));
library(lme4);
fit6 = glmer(Response ~ 1 + ConditionRecode*Amount1 + ConditionRecode*Amount2 + ConditionRecode*Certain + selfother + PartnerRecode + ConditionRecode +
(0 + Amount1 + Amount2 + Certain | Subject),data=d2,family='binomial',
control = glmerControl(optCtrl=list(maxfun=100000)));
summary(fit6)
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20190510.Rdata")
sflistFinal
library("pwr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
pwr.anova.test(k=1,n=NULL,f=.4,sig.level = .05,power=.8)
pwr.anova.test(k=2,n=NULL,f=.4,sig.level = .05,power=.8)
pwr.r.test(n=NULL,r = 0.3,sig.level = .05,power = 0.8,alternative = 'two.sided')
pwr.r.test(n=NULL,r = 0.4,sig.level = .05,power = 0.8,alternative = 'two.sided')
getwd()
read.table(file="Trust_CB_Data2_cyberonly.txt",header=FALSE, sep = 't')
read.table(file="Trust_CB_Data2_cyberonly.txt",header=FALSE)
trust_old<-read.table(file="Trust_CB_Data2_cyberonly.txt",header=FALSE)
ls(trust_old)
unique(trust_old[,1])
length(unique(trust_old[,1]))
rm(list = )
rm(list = ls());
load("/Users/dfareri/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20190510.Rdata")
sflistFinal
stanmodel
sflistFinal(1)
sflistFinal=list()
sflistFinal
load("/Users/dfareri/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_01_basic_20190510.Rdata")
fit1<-sflist2stanfit(sflistFinal)
sflistFinal
sSamples <- sflistFinal
sSamples <- extract(sflistFinal)
library(lme4);
library(rstan)
library(parallel)
fit1<-sflist2stanfit(sflistFinal)
fit1
summary(fit1)
load("/Users/dfareri/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_data_GLMs_5_2019.RData")
ls(D2)
ls(d2)
length(unique(d2$Subject))
dat_TrustConnectivity<-read.csv('//Users/dfareri/Dropbox/Trust_Connectivity/Results_7_2017/lme_R.csv',header=T,sep=',')
dat_TrustConnectivity<-read.csv('//Users/dfareri/Dropbox/Collaborations/Trust_Connectivity/Results_7_2017/lme_R.csv',header=T,sep=',')
dat_TrustConnectivity<-read.csv('//Users/dfareri/Dropbox/Dominic/Collaborations/Trust_Connectivity/Results_7_2017/lme_R.csv',header=T,sep=',')
m1<-lmer(DMN_Str~IOS+Motion+(1|Subject),data=dat_TrustConnectivity)
summary(m1)
library("lmerTest", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
m1<-lmer(DMN_Str~IOS+Motion+(1|Subject),data=dat_TrustConnectivity)
summary(m1)
m1a<-lm(DMN_Str~IOS+Motion,data=dat_TrustConnectivity)
summary(m1a)
m3<-lmer(ECN_Str~IOS+Motion+(1|Subject),data=dat_TrustConnectivity)
m3a<-lm(ECN_Str~IOS+Motion,data=dat_TrustConnectivity)
summary(m3a)
m1b<-lm(DMN_Str~IOS,data=dat_TrustConnectivity)
summary(m1b)
load("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/Behavior/data/ControlEdats2017/WSLSdata_updated_2_15_19.RData")
ls(x)
x
summary(x)
library("sjPlot", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
library("sjstats", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
library("sjmisc", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
plot_model(model=new_Accglm_Interaction_sex_8_2018,type = int)
plot_model(model=new_Accglm_Interaction_sex_8_2018,type = "int")
ls(WSLSdata)
plot_model(model=new_Accglm_Interaction_sex_8_2018_rfxMC,type = "int")
plot_model(model=new_Acc_LStest_age_run_sex_10_2018_rfx_4_MC,type = "int")
plot_model(model=new_Acc_LStest_age_run_sex_10_2018_rfx_2,type = "int")
plot_model(model=new_Acc_LStest_age_run_sex_10_2018_rfx_2,type = "int",terms = c("LS","Age [7 15 23]","Run"))
summary(new_Acc_LStest_age_run_sex_10_2018_rfx_2)
new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2<-glmer(IsCorrectResp~Run*LS*AgeMC+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
plot_model(model=new_Acc_LStest_age_run_sex_10_2018_rfx_2,type = "int")
plot_model(model=new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2,type = "int")
unique(WSLSdata$AgeMC)
plot_model(model=new_Acc_LStest_age_run_sex_10_2018_rfx_2,type = "int",terms = c("LS","AgeMC [-6.772723 7.2272727]","Run"))
plot_model(model=new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2,type = "int",terms = c("LS","AgeMC [-6.772723 7.2272727]","Run"))
new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2a<-glmer(IsCorrectResp~AgeMC*Run*LS+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
plot_model(model=new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2a,type = "int")
new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2a<-glmer(IsCorrectResp~Run*AgeMC*LS+Sex+(1|Subject),data=WSLSdata,family = binomial(link = "logit"),na.action = na.exclude)
plot_model(model=new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2a,type = "int")
plot_model(model=new_Acc_LStest_ageMC_run_sex_10_2018_rfx_2a,type = "int",terms = c("Run","AgeMC [-6.772723 7.2272727]","LS"))
load("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/Behavior/data/ControlEdats2017/WSLSdata_updated_2_15_19.RData")
WSLSdata_wide$Subject
length(WSLSdata_wide$Subject)
WSLSdata_wide[,1:2]
ls(WSLSdata_wide)
WSLSdata_wide
WSLSdata_wide[,1:3]
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/SLA_8_2019.RData")
fit1
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/SLA_8_2019.RData")
View(Params_Subs_SLA)
load("~/Dropbox/Dominic/Collaborations/SocialLossAversion/sla_data_GLMs_5_2019.RData")
subjID
subjPartner
d2$Subject
unique(d2$SubName)
library("pwr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
pwr.r.test(n=NULL,r=.2,sig.level=.05,power=.8,alternative=c("two.sided"))
pwr.r.test(n=NULL,r=.4,sig.level=.05,power=.8,alternative=c("two.sided"))
pwr.r.test(n=NULL,r=.3,sig.level=.05,power=.8,alternative=c("two.sided"))
pwr.r.test(n=NULL,r=.2,sig.level=.05,power=.8,alternative=c("greater"))
pwr.r.test(n=NULL,r=.3,sig.level=.05,power=.8,alternative=c("greater"))
pwr.r.test(n=NULL,r=.4,sig.level=.05,power=.8,alternative=c("greater"))
pwr.r.test(n=NULL,r=.3,sig.level=.05,power=.8,alternative=c("two.sided"))
library("pwr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
pwr.r.test(n=NULL,r=.3,sig.level=.05,power=.8,alternative=c("two.sided"))
pwr.r.test(n=NULL,r=.4,sig.level=.05,power=.8,alternative=c("two.sided"))
pwr.r.test(n=NULL,r=.35,sig.level=.05,power=.8,alternative=c("two.sided"))
pwr.r.test(n=NULL,r=.2,sig.level=.05,power=.8,alternative=c("greater"))
pwr.r.test(n=NULL,r=.35,sig.level=.05,power=.8,alternative=c("greater"))
pwr.r.test(n=NULL,r=.3,sig.level=.05,power=.8,alternative=c("greater"))
pwr.t.test(n=NULL,d=.4,sig.level=.05,power=.8,type=c("paired"))
pwr.t.test(n=NULL,d=.4,sig.level=.05,power=.8,type=c("one.sample"))
library("pwr", lib.loc="/Library/Frameworks/R.framework/Versions/3.5/Resources/library")
pwr.t2n.test(n1=NULL,n2=NULL,d = .4, sig.level = .05,power=.8,alternative = c('two.sided'))
pwr.t2n.test(n1=50,n2=NULL,d = .4, sig.level = .05,power=.8,alternative = c('two.sided'))
#change to data directory
setwd("/Users/dfareri/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP/")
#read in data file
ITC_Ostracism<-read.csv(file = "SDRD_MasterDataSheet_scored.csv", header = TRUE)
ls(ITC_Ostracism)
mean(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==1])
mean(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==1],na.exclude)
mean(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==1],na.exclude=TRUE)
mean(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==1],na.rm = TRUE)
mean(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==2],na.rm = TRUE)
t.test(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==1],ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==2na.rm = TRUE)
t.test(ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==1],ITC_Ostracism$Thoughts_.I.was.excluded[ITC_Ostracism$Condition==2],na.rm = TRUE)
t.test(ITC_Ostracism$Thoughts_.I.was.included[ITC_Ostracism$Condition==1],ITC_Ostracism$Thoughts_.I.was.included[ITC_Ostracism$Condition==2],na.rm = TRUE)
library(plotly)
install.packages("plotly")
library(plotly)
fig <- plot_ly(ITC_Ostracism, x = ~Condition y = ~Thoughts_.I.was.excluded[Condition==1], type = 'bar', name = 'Exclusion')
fig <- plot_ly(ITC_Ostracism, x = ~Condition, y = ~Thoughts_.I.was.excluded[Condition==1], type = 'bar', name = 'Exclusion')
fig <- fig %>% add_trace(y = ~Thoughts_.I.was.excluded[Condition==2], name = 'Inclusion')
fig <- fig %>% layout(title = "Feelings of Exclusion")
fig
fig <- plot_ly(ITC_Ostracism, x = ~Condition, y = ~Thoughts_.I.was.excluded[Condition==1], type = 'bar', name = 'Exclusion')
fig <- fig %>% add_trace(y = ~Thoughts_.I.was.excluded[Condition==2], name = 'Inclusion')
fig <- fig %>% layout(title = "Feelings of Exclusion")
fig
last_error()
rlang::last_error()
install.packages("ggstatsplot")
install.packages("ggstatsplot")
install.packages("ggstatsplot")
install.packages("ggstatsplot")
install.packages("ggstatsplot")
install.packages("ggstatsplot")
install.packages("ggstatsplot")
library(ggstatsplot)
install.packages("car")
install.packages("ggstatsplot")
install.packages("car")
install.packages("pbkrtest")
install.packages("~/Downloads/ggstatsplot_0.3.1.tgz", repos = NULL, type = .Platform$pkgType)
library(ggstatsplot)
load("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/ExtractedTimeSeries_ROIAnalyses_3_11_2020/ROIs_4_22_2020.RData")
ls(ROIs)
WS_VS_amt<-lm(WinStay_VS~WSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtPos,data = ROIs)
LS_VS_amt<-lm(LoseShift_VS~LSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtNeg,data = ROIs)
summary(WS_VS_amt)
summary(LS_VS_amt)
WS_Putamen_Amt<-lm(WinStay_Putamen~WSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtPos,data = ROIs)
LS_Putamen_Amt<-lm(LoseShift_Putamen~LSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtNeg,data = ROIs)
summary(WS_Putamen_Amt)
summary(LS_Putamen_Amt)
WS_Amygdala<-lm(WinStay_Amy~WSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtPos,data = ROIs)
LS_Amygdala<-lm(LoseShift_Amy~LSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtNeg,data = ROIs)
WS_Amygdala<-lm(WinStay_Amy~WSOverall*AgeMC_mos + SexMC + RelMotionMC,data = ROIs)
LS_Amygdala<-lm(LoseShift_Amy~LSOverall*AgeMC_mos + SexMC + RelMotionMC,data = ROIs)
WS_Amygdala_Amt<-lm(WinStay_Amy~WSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtPos,data = ROIs)
LS_Amygdala_Amt<-lm(LoseShift_Amy~LSOverall*AgeMC_mos + SexMC + RelMotionMC + SumAmtNeg,data = ROIs)
summary(WS_Amygdala_Amt)
summary(LS_Amygdala_Amt)
summary(LS_Amygdala_Amt)
summary(LS_Putamen_Amt)
library(sjPlot)
plot_model(LS_Putamen_Amt,type=c("int"))
WS_Putamen_Amt<-lm(WinStay_Putamen~AgeMC_mos*WSOverall + SexMC + RelMotionMC + SumAmtPos,data = ROIs)
plot_model(LS_Putamen_Amt,type=c("int"),)
summary(LS_Putamen_Amt)
plot_model(LS_Putamen_Amt,type=c("int"))
plot_model(LS_Putamen_Amt,type=c("eff"))
plot_model(LS_Putamen_Amt,type=c("eff"))
install.packages("effects")
plot_model(LS_Putamen_Amt,type=c("eff"))
plot_model(LS_Amygdala_Amt,type=c("eff"))
plot_model(LS_Putamen_Amt,type=c("int"))
plot_model(LS_Amygdala_Amt,type=c("int"))
plot_model(LS_Putamen_Amt,type=c("int"))
plot_model(LS_Amygdala_Amt,type=c("int"))
ROIs$WSOverall_MC<-NA
ROIs$WSOverall_MC<-ROIs$WSOverall-(mean(ROIs$WSOverall))
ROIs$WSOverall_MC
mean(ROIs$WSOverall)
ROIs$WSOverall
ROIs$LSOverall_MC<-NA
ROIs$LSOverall_MC<-ROIs$LSOverall-(mean(ROIs$LSOverall))
ROIs$LSOverall
ROIs$LSOverall_MC
ROIs$SumAmtPos_MC<-NA
ROIs$SumAmtPos_MC<-ROIs$SumAmtPos-(mean(ROIs$SumAmtPos))
ROIs$SumAmtNeg_MC<-NA
ROIs$SumAmtNeg_MC<-ROIs$SumAmtNeg-(mean(ROIs$SumAmtNeg))
ROIs$SumAmtPos_MC
ROIs$SumAmtNeg_MC
ROIs
max.print
getOption(x=10000)
getOption(x=max)
getOption(x='max')
options(max.print=100000)
ROIs
summary(WS_Putamen_Amt)
summary(WS_Putamen)
summary(WS_VS)
summary(WS_VS_amt)
summary(WS_VS)
WS_VS<-lm(WinStay_VS~WSOverall*AgeMC_mos + SexMC + RelMotionMC,data = ROIs)
summary(WS_VS)
summary(WS_Putamen_Amt)
summary(WS_Putamen)
summary(LS_Putamen_Amt)
summary(LS_Amygdala_Amt)
summary(WS_Amygdala_Amt)
summary(WS_Amygdala)
getwd()
save.image("~/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/ExtractedTimeSeries_ROIAnalyses_3_11_2020/ROIs_4_22_2020.RData")
schools_dat <- list(J = 8,
y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18))
fit <- stan(file = '8schools.stan', data = schools_dat)
library("rstan")
fit <- stan(file = '8schools.stan', data = schools_dat)
fit <- stan(file = '8schools.stan', data = schools_dat)
R
r
R.version.string
pkgbuild::has_build_tools(debug = TRUE)
library(rstantools)
library(rstan)
library(hBayesDM)
setwd('/Users/dfareri/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP')
ITCdata = read.csv(file = 'R_HyperbolicPreITC.csv',header = TRUE)
ITC_hbayes<-dd_hyperbolic(data = ITCdata,niter = 4000,nwarmup = 1000,nchain = 4, ncore = 1, nthin = 1, inits = "vb", indPars = "mean",modelRegressor = FALSE, vb = FALSE, inc_postpred = FALSE, adapt_delta = 0.95, stepsize = 1,max_treedepth = 10)
remove.packages("rstan")
remove.packages("rstan") if (file.exists(".RData")) file.remove(".RData")
if (file.exists(".RData")) file.remove(".RData")
Sys.setenv(MAKEFLABS = "-j4")
install.packagtes("rstan",type = "source")
install.packages("rstan",type = "source")
load("~/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP/ITC_ostracism_hBayes.RData")
ITCdataPre<-ITCdata
rm(ITCdata)
ITC_hbayesPre<-ITC_hbayes
rm(ITC_hbayes)
library(hBayesDM)
library(rstan)
setwd('/Users/dfareri/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP')
setwd('/Users/dfareri/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP')
getwd()
setwd('/Users/dfareri/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP')
getwd()
setwd('/Users/dfareri/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP')
getwd()
ITCdataPost = read.csv(file = 'R_HyperbolicPostITC.csv',header = TRUE)
ITC_hbayesPost<-dd_hyperbolic(data = ITCdataPost,niter = 4000,nwarmup = 1000,nchain = 4, ncore = 1, nthin = 1, inits = "vb", indPars = "mean",modelRegressor = FALSE, vb = FALSE, inc_postpred = FALSE, adapt_delta = 0.95, stepsize = 1,max_treedepth = 10)
ITC_hbayesPost$model
ITC_hbayesPost$allIndPars
ITC_hbayesPre$allIndPars[,2]
ITC_hbayesPost$allIndPars[,2]
t.test(ITC_hbayesPre$allIndPars[,2],ITC_hbayesPost$allIndPars[,2])
logKPre<-log10(ITC_hbayesPre$allIndPars[,2])
logKPre
logKPost<-log10(ITC_hbayesPost$allIndPars[,2])
logKPost
hist(logKPost)
hist(logKPre)
t.test(logKPre,logKPost)
logKDiff<-(logKPost-logKPre)
plot(logKDiff)
hist(logKDiff)
barplot(logKDiff)
ITC_hbayesPre
ITC_hbayesPre$fit
ITC_hbayesPost$fit
ITC_hbayesPre$allIndPars
ITC_hbayes_Output<-NA
ITC_hbayes_Output<-data.frame(matrix(data=NA,nrow = 44,ncol=6))
ITC_hbayes_Output
ITC_hbayes_Output<-data.frame(matrix(data=NA,nrow = 44,ncol=5))
ITC_hbayes_Output<-data.frame(matrix(data=NA,nrow = 44,ncol=5,colnames=c("subjID",kPre,betaPre,kPost,betaPost))
)
ITC_hbayes_Output<-data.frame(matrix(data=NA,nrow = 44,ncol=5,colnames=c("subjID","kPre","betaPre","kPost","betaPost"))
)
ITC_hbayes_Output<-data.frame(data=NA,nrow = 44,ncol=5,colnames=c("subjID","kPre","betaPre","kPost","betaPost")
)
ITC_hbayes_Output
ITC_hbayes_Output<-data.frame(matrix(data=NA,nrow = 44,ncol=5,colnames=c("subjID","kPre","betaPre","kPost","betaPost")))
ITC_hbayes_Output<-matrix(data=NA,nrow = 44,ncol=5,colnames=c("subjID","kPre","betaPre","kPost","betaPost"))
?matrix
colnames<-c("subjID", "kPre", "betaPre", "kPost", "betaPost")
colnames
ITC_hbayes_Output<-matrix(data=NA,nrow = 44,ncol=5,dimnames=(NULL,"colnames"))
ITC_hbayes_Output<-matrix(data=NA,nrow = 44,ncol=5,dimnames=("NULL","colnames"))
ITC_hbayes_Output<-matrix(data=NA,nrow = 44,ncol=5,dimnames=("NULL","colnames"))
ITC_hbayes_Output<-data.frame(data=NA,nrow = 44,ncol=5,colnames=c("subjID","kPre","betaPre","kPost","betaPost")
)
ITC_hbayes_Output
ITC_hbayes_Output<-data.frame(matrix(data=NA,nrow = 44,ncol=5))
ITC_hbayes_Output
ITC_hbayes_Output$X1<-ITC_hbayesPre$allIndPars[,1]
ITC_hbayes_Output$X2<-ITC_hbayesPre$allIndPars[,2]
ITC_hbayes_Output$X3<-ITC_hbayesPre$allIndPars[,3]
ITC_hbayes_Output$X4<-ITC_hbayesPost$allIndPars[,2]
ITC_hbayes_Output$X5<-ITC_hbayesPost$allIndPars[,3]
ITC_hbayes_Output
names(ITC_hbayes_Output)
names(ITC_hbayes_Output)<-colnames
names(ITC_hbayes_Output)
ITC_hbayes_Output
getwd()
write.csv(x=ITC_hbayes_Output,file = "ITC_hbayes_Output.csv",col.names = TRUE)
save.image("~/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP/ITC_ostracism_hBayes.RData")
library(sjPlot)
setwd("/Users/dfareri/Dropbox/Dominic/UCLA_Columbia/RewAv_Prelim/ExtractedTimeSeries_ROIAnalyses_3_11_2020")
ROIs<-read.csv(file = "ROIs_meanTS_4_1_2020_44subs.csv",header = TRUE)
ls(ROIs)
load("~/Dropbox/Dominic/Github/fareri-lab/Discounting_Social/ProlificData_MP/ITC_ostracism_hBayes.RData")
ITC_hbayes_Output
plot(ITC_hbayesPre,type="trace",fontSize=11)
plot(ITC_hbayesPost,type="trace",fontSize=11)
plot(ITC_hbayesPre)
plot(ITC_hbayesPost)
